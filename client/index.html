<!DOCTYPE html>
<html>
<head>
	<base href="/">
	<title>Smart SHopping LIst</title>

	<link href="https://fonts.googleapis.com/css?family=Slabo+27px" rel="stylesheet">

	<link rel="stylesheet" type="text/css" href="/client/bower_components/angular-material/angular-material.min.css">
	<link rel="stylesheet" type="text/css" href="/client/bower_components/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="/client/bower_components/font-awesome/css/font-awesome.min.css">

	<link href="/client/bower_components/angular-material-data-table/dist/md-data-table.min.css" rel="stylesheet" type="text/css"/>

	<link rel="stylesheet" type="text/css" href="/client/style.css">
</head>
<body ng-app="app">

	<div ng-controller="ListCtrl as ctrl" class="container">
		
		<div class="col-md-6 col-md-push-3" ng-show="ctrl.page == 'buildList'">

			<md-content class="row md-padding userReq" ng-repeat="i in ctrl.arr">
				<div style="width: 80%; float: left">
		      <md-autocomplete
		          md-selected-item="i.selectedItem"
		          md-search-text-change="ctrl.searchTextChange(i.searchText)"
		          md-search-text="i.searchText"
		          md-items="item in ctrl.querySearch(i.searchText)"
		          md-item-text="item.display"
		          placeholder="Introdu catgoria de produs apoi cantitatea">
		        <md-item-template>
		          <span md-highlight-text="ctrl.searchText" md-highlight-flags="^i">{{item.display}}</span>
		        </md-item-template>
		      </md-autocomplete>
		      </div>
				<div style="width: 10%; float: left; text-align: center;">
		      		<md-button ng-click="ctrl.sterge($index)"><i class="fa fa-times"></i></md-button>
		      </div>
		  </md-content>

		  <div class="buttons row">
			  	<button class="md-raised" ng-click="ctrl.add_new()"><i class="fa fa-plus"></i></button>
			  	<button class="md-raised" ng-click="ctrl.genereazaCosul()">Genereaza Cosul</button>
			</div>

		</div>

		<div ng-show="ctrl.page == 'listOutput'">
			<h2 ng-click="ctrl.page = 'buildList'">Inapoi</h2>
			<md-card ng-repeat="res in ctrl.results">
				<md-card-content>
					<h2>{{ctrl.arr[$index].searchText.split(" ")[0]}}</h2>

					<md-select ng-model="res.selected">
						<md-option selected ng-value="res.recommanded">
							{{ctrl.optionToDescription(res.recommanded)}}
						</md-option>
					  <md-option ng-value="option" ng-repeat="option in res.other">
					  	{{ctrl.optionToDescription(option)}}
					  </md-option>
					</md-select>

					<img src="{{res.selected.image_path}}" height="100px" />
					<br/>
					{{res.selected.times*res.selected.price}}RON	

				</md-card-content>
			</md-card>

			<h2 class="float-right">Total: {{ctrl.total(ctrl.results)}}RON</h2>

		</div>


		<div ng-show="ctrl.page == 'login'">
			<md-card>
				
				<md-card-content>
					<md-input-container style="width:100%">
						<label>Username</label>
						<input type="text" ng-model="user.name">
					</md-input-container>
					<br/>
					<md-input-container style="width:100%">
						<label>Password</label>
						<input type="password" ng-model="user.password">
					</md-input-container>
				</md-card-content>
				<div class="md-actions">
				   <md-button ng-click="ctrl.login()">Login</md-button>
				 </div>
			</md-card>
		</div>

	</div>		
	
		
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAWColN1am3vdiGdBssTJ6Vp1aoQ1SwjdA"></script>

	<script type="text/javascript" src="/client/bower_components/angular/angular.min.js"></script>

	<script type="text/javascript" src="/client/bower_components/angular-ui-router/release/angular-ui-router.min.js"></script>
	<script type="text/javascript" src="/client/bower_components/angular-animate/angular-animate.min.js"></script>
	<script type="text/javascript" src="/client/bower_components/angular-aria/angular-aria.min.js"></script>
	<script type="text/javascript" src="/client/bower_components/angular-messages/angular-messages.min.js"></script>
	<script type="text/javascript" src="/client/bower_components/angular-material-data-table/dist/md-data-table.min.js"></script>
	<script type="text/javascript" src="/client/bower_components/angular-material/angular-material.min.js"></script>

	<script type="text/javascript" src="/client/app.js"></script>

</body>
</html>